---
layout: default
---
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

<table id="positions" style="width:100%">
  <tr>
    <th>Posição</th>
    <th>Nome</th>
    <th>Pontuação</th>
  </tr>
</table>

<p>
  Version 1.0.4
</p>

<style>
  .page-header {
  color: #ffff;
  background-color: #A067AB;
  background-image: radial-gradient(#dc812d, #4d4d4d);
}
</style>

<script>
  $(document).ready(function() {
    $.ajax({
        type: "GET",
        url: "ranking.csv",
        dataType: "text",
        success: function(data) {processData(data);}
     });
});

function processData(allText) {
    var allTextLines = allText.split(/\r\n|\n/);
    var headers = allTextLines[0].split(',');
    var lines = [];

    for (var i=1; i<allTextLines.length; i++) {
        var data = allTextLines[i].split(',');
        if (data.length == headers.length) {

            var tarr = [];
            for (var j=0; j<headers.length; j++) {
                tarr.push(data[j]);
            }
            lines.push(tarr);
        }
    }
    // Here I have to sort
    var table = document.getElementById("positions");
    for (var i=0; i<lines.length; i++) {
      var row = table.insertRow(-1);
      // Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
      var position = row.insertCell(0);
      var name = row.insertCell(1);
      var points = row.insertCell(2);

      // Add some text to the new cells:
      position.innerHTML = i.toString();
      name.innerHTML = lines[i][0];
      points.innerHTML = lines[i][1];
    }
    
    console.log('done loading');
    console.log(headers);
    console.log(lines);
    // alert(lines);
}
</script>
